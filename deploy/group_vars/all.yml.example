---
# Server configuration
server_hostname: funnel-prod
server_timezone: UTC

# Deploy user
deploy_user: deploy
deploy_group: deploy
# Add your SSH public keys here
deploy_ssh_keys:
  - "ssh-ed25519 AAAAC3... your-key-comment"
  # - "ssh-ed25519 AAAAC3... another-team-member"

# Firewall ports
firewall_allowed_tcp_ports:
  - 22    # SSH
  - 80    # HTTP (Caddy)
  - 443   # HTTPS (Caddy)

# Domain configuration
domain_base: yourdomain.com
domain_api: "api.{{ domain_base }}"

# App configuration
app_repo: https://github.com/your-org/funnel.git
app_dir: /home/{{ deploy_user }}/funnel
app_branch: main

# Docker compose project name
compose_project: funnel

# ClickHouse configuration
clickhouse_url: "https://your-instance.clickhouse.cloud:8443"
clickhouse_user: "default"
clickhouse_password: ""
clickhouse_database: "nostr"

# ClickHouse deployment type: "cloud" or "self_hosted"
# - cloud: Uses schema_cloud.sql (no projections, compatible with SharedMergeTree)
# - self_hosted: Uses schema_self_hosted.sql (includes projections for better performance)
clickhouse_deployment: "cloud"

# Relay to ingest events from
relay_url: "wss://relay.example.com"

# API Authentication
# Generate a secure token with: openssl rand -hex 32
# Leave empty to disable authentication (not recommended for production)
api_token: ""
